# 데이터베이스 스터디,제네릭 마무리  

## 날짜
2024-06-13

## 주제
+ 데이테베이스 인덱스
+ 자바 제네릭 최종 복습

## 내용     

오늘은 데이터베이스 스터디를 진행하였습니다.  
스터디 내용은 B-tree 인덱스와 R-tree 인덱스입니다.  
  
### 인덱스
인덱스는 데이터베이스 시스템에서 OLTP 환경에서 랜덤 I/O가 많이 발생하는 환경에서 
랜덤 I/O를 순차 I/O로 변경하는 건 어렵기 때문에 RDBMS에서는 인덱스를 통해 랜덤 I/O 스캔을 최소화하여 
필요한 데이터만 조회하도록 합니다.  
  
B-tree는 트리 구조로 이진 탐색 트리의 한계인 편향 트리가 발생하지 않게 밸런스를 유지하는 자료구조입니다.  
데이터가 추가되거나 삭제될 때 자식 노드가 한쪽 방향으로 추가 되지 않게 split이 되어 트리 높이를 유지합니다.  
  
트리 높이는 검색 속도와 관련이 있고, B-tree 역시 최악의 경우라도 시간 복잡도는 O(logN)을 갖습니다.  
  
다만, 주의할점은 데이터베이스는 레코드를 읽을때 한건만 읽어도 페이지 단위로 읽습니다.  
페이지란 기본 16KB로 테이블의 레코드를 나누어 보관합니다.  
그러면 1건을 읽어도 16KB의 데이터를 조회하게 됩니다.  
  
데이터베이스는 인덱스와 데이터는 각각의 별도 파일로 관리됩니다.  
빠르게 검색하기 위해 인덱스를 사용하면 인덱스 페이지를 디스크에서 읽은 결과 레코드 주소를 디스크에서 다시 조회하는 방식이기 때문에 
소량의 데이터를 읽는게 아닌 전체 데이터를 읽어야한다면 오히려 인덱스 사용은 검색 속도를 느리게 합니다.  
  
따라서 인덱스는 전체 레코드 양의 25% 이상을 조회해야한다면 테이블 전체를 읽는 방식인 풀 테이플 스캔이 더 빠를 수 있습니다.  
  
### 제네릭  
예전에 와일드 카드를 사용하지 않는 걸 권장한다는 블로그 글을 본 기억이 있습니다.  
글 내용은 와일드 카드를 사용하지 않고 Object 클래스를 명시적으로 작성하는 것이 컴파일 단계중 불필요한 과정을 줄일 수 있다는 글이였습니다.  
   
이후로 저는 와일드 카드가 무조건 나쁘다고 생각하여 사용을 하지 않았었습니다.  
오늘 제네릭과 와일드 카드를 복습하면서 제네릭 메서드를 와일드 카드로 대체할 수 있는 경우에 와일드 카드를 사용하는게 좋다는 걸 알았습니다.  
   
이유는 제네릭 메서드는 컴파일 시점에 타입 소거가 발생하고, 메서드 호출시 컴파일이 타입을 확인하는 절차가 발생하는데 
와일드 카드는 타입 소거가 발생하지 않는다는 장점이 있기 때문입니다.  
  
그렇다고 와일드 카드를 무조건 사용할 수 있는건 아니였습니다. 
반환 타입이 제네릭 타입이거나 매개변수 타입이 제네릭 클래스가 아닌 제네릭 타입으로 들어오는걸 제한해야할 때는 
제네릭 메서드를 사용해야합니다.  

## 숙제
+ 데이터베이스는 레드-블랙 트리를 사용하지 않고 B-tree를 사용한 이유를 찾아본다.